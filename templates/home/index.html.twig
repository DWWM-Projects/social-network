{% extends 'base.html.twig' %}

{% block title %}Publications - My Social Network{% endblock %}

{% block header %}{{ parent() }}{% endblock %}

{% block body %}



    <div class="flex flex-row gap-2 justify-around">
        {% if app.user %}        
            <div class="w-1/6 flex flex-col bg-blue-300 border rounded-lg mt-6 p-2">
                <div class=" bg-blue-100 border rounded-lg p-2">
                    {% if app.user.avatar == null %}
                        <img src="/img/avatar.png">
                    {% endif %}
                </div>

                <div class="flex flex-col bg-blue-100 border rounded-lg mt-6 p-2">
                    <p class="mt-4">{{ app.user.pseudo }}</p>
                    <p class="mt-4">{{ app.user.biography }}</p>
                </div>
            </div>
        {% endif %}

        <div class="w-5/6 flex flex-col bg-blue-300 rounded-lg mt-6 p-2">

            {% for publication in publications %}
                <a class="w-full flex flex-row justify-between gap-2 bg-blue-300 mb-6 cursor-pointer" href="{{ path('app_publication', { id: publication.id }) }}">
                    
                    <div class="w-1/5 bg-blue-100 rounded-lg p-2">
                        {% if publication.user.avatar == null %}
                            <img src="/img/avatar.png">
                        {% endif %}
                    </div>
                    <div class="w-4/5 flex flex-col bg-blue-100 rounded-lg">
                        <div class="w-full flex flex-row justify-between items-center p-2">
                            <p class=" text-2xl bg-blue-100">{{ publication.user.pseudo }}</p>
                            {# <p>{{ publication.createdAt }}</p> #}
                        </div>
                        <p class="w-full text-center bg-blue-100 rounded-lg mt-3 p-2">{{ publication.content }}</p>
                    </div>
                    
                </a>
            {% endfor %}

        </div>
    
    </div>
{% endblock %}
